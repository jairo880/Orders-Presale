title {{dato.AOBJ_Datos_Usuario[0].Nombre_Usuario}} | Gestion de permisos de los usuarios
link(rel="stylesheet" href!="<?php echo URL;?>public/css/Templates/Administracion/Modulo_Permisos_Usuario/Modulo_Permisos_Usuario.css")
//sesion Estructura

section#SC_Modulo_Permisos_Usuario
	main#CONT_Modulo_Permisos_Usuario(ng-init="FN_Listar_Modulo_Permisos_Usuario(1);FN_Listar_Roles_Usuarios()")
		#CONT_Contenedor_Invisible_Header
		.Grid_Contenedor.Base-100(ng-init="BL_Vistas = 1")
			.CL_Alerta_5.Grid_Contenedor.Base-90.Padding-10.main_end.cross_end
				.Base-40.cross_end.Grid_Contenedor
					p.CL_TXT_Texto_4 Gestion de permisos para los usuarios
				select.Select_1.Base-30.Grid_Item()
					option(ng-click="FN_Listar_Modulo_Permisos_Usuario(Rol.PK_ID_Rol)",ng-repeat="Rol in AOBJ_Lista_Roles",value="{{Rol.PK_ID_Rol}}") Vistas {{Rol.Nombre_Rol}} 
			.Grid_Contenedor.Base-100(ng-show="BL_Vistas == 1")
				.CL_Alerta_1.Grid_Contenedor.Padding-10 Administrar permisos para el usuario
				.Grid_Contenedor.Base-30
					.CL_Alerta_5.Grid_Contenedor.abcenter.Padding-5 Registrar nueva vista
					form.Grid_Contenedor.column.abcenter.Base-100(name="Registro_Vista_Administrador",ng-submit="FN_Registrar_Permiso_Usuario(PM)")
						label.CL_TXT_Texto_3 Tipo usuario
						select.Select_1.Base-100.Grid_Item(ng-model="PM.FK_ID_Rol")
							option(ng-repeat="Rol in AOBJ_Lista_Roles",value="{{Rol.PK_ID_Rol}}") {{Rol.Nombre_Rol}}

						label.CL_TXT_Texto_3 Nombre vista
						input.Input_Estilo_1(required,maxlength="20",minlength="5",type="text" name="Nombre_Vista",ng-model="PM.Nombre_Vista")
						//Mensaje de validacion
						div#CONT_Mensaje_Validacion(ng-show="!Registro_Vista_Administrador.Nombre_Vista.$valid && !Registro_Vista_Administrador.$pristine && !Registro_Vista_Administrador.Nombre_Vista.$error.required")
							p.icon-alerta1 La cantidad de caracteres es muy corta
						label.CL_TXT_Texto_3 Url vista
						textarea.Textarea_Estilo_1(required,maxlength="150",minlength="5",type="text" name="Url_Vista" ng-model="PM.Url_Vista")
						//Mensaje de validacion
						div#CONT_Mensaje_Validacion(ng-show="!Registro_Vista_Administrador.Url_Vista.$valid && !Registro_Vista_Administrador.$pristine && !Registro_Vista_Administrador.Url_Vista.$error.required")
							p.icon-alerta1 La cantidad de caracteres es muy corta
						.Grid_Contenedor.justify
							input.Btn_Estilo_1(ng-disabled="!Registro_Vista_Administrador.$valid ",type="submit" value="Registrar vista")
							button.Btn_Estilo_5(ng-click="PM.Url_Vista  = ''; PM.Nombre_Vista = '' ") Limpiar
				.Grid_Contenedor.Base-60.CL_Tabla_Permisos
					.Tabla_Estilo_4
						table
							thead
								tr

									th Codigo
									th Nombre vista
									th Url vista
									th 
									th 
									
							tbody(ng-init="BL_Edicion_Datos = false")
								tr(ng-repeat="Permisos in AOBJ_Lista_Permisos_Usuario")
									th
										{{Permisos.PK_ID_Vista}}
									th
										input.Input_Estilo_1(type="text" ng-model="Permisos.Nombre_Vista",ng-disabled="BL_Edicion_Datos == false")
									th.CL_Tam_Texarea
										textarea.Textarea_Estilo_1( ng-model="Permisos.Url_Vista",ng-disabled="BL_Edicion_Datos == false")
									th.CL_Tbl_Icon
										.icon-lapiz.CL_TXT_Pri_Btn.relative(ng-click="BL_Edicion_Datos = true",ng-class="{Invisible:BL_Edicion_Datos == true, Visible: BL_Edicion_Datos == false}")
											span.CL_TXT_Info_Btn Editar
										.icon-actualizar.CL_TXT_Pri_Btn.relative(ng-click="FN_Modificar_Permiso_Usuario($index);BL_Edicion_Datos = false",ng-class="{Invisible:BL_Edicion_Datos == false, Visible: BL_Edicion_Datos == true}")
											span.CL_TXT_Info_Btn Actualizar

									th.CL_Tbl_Icon
										.icon-cancelar2.CL_TXT_Pri_Btn.relative(ng-click="FN_Confirmacion_Alerta(6,$index,false,'Â¿Esta seguro de eliminar el permiso?')")
											span.CL_TXT_Info_Btn Eliminar

									
								
		